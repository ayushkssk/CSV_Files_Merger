<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Merger</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #e0f7fa, #80deea);
            color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
        }
        .container {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        h1, h2 {
            color: #4ca1af;
        }
        footer {
            margin-top: 20px;
            font-size: 14px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4 text-center">Upload CSV Files to Merge</h2>
        <p class="text-center">This tool allows you to upload two CSV files, merge them based on specific columns, and download the result as an Excel file. Simply choose your files and click "Merge and Download".</p>
        
        <!-- Scrolling Screenshots -->
        <div class="screenshot-container d-flex justify-content-center">
            <div class="screenshot-wrapper">
                <img style="max-width: 150px;" src="{{ url_for('static', filename='images/Screenshot1.png') }}" alt="Screenshot 1" class="screenshot" data-toggle="modal" data-target="#screenshotModal">
                <div class="overlay">Click to Preview</div>
            </div>
            <div class="screenshot-wrapper">
                <img style="max-width: 150px;" src="{{ url_for('static', filename='images/Screenshot2.png') }}" alt="Screenshot 2" class="screenshot" data-toggle="modal" data-target="#screenshotModal">
                <div class="overlay">Click to Preview</div>
            </div>
            <div class="screenshot-wrapper">
                <img style="max-width: 150px;" src="{{ url_for('static', filename='images/Screenshot3.png') }}" alt="Screenshot 3" class="screenshot" data-toggle="modal" data-target="#screenshotModal">
                <div class="overlay">Click to Preview</div>
            </div>
            <div class="screenshot-wrapper">
                <img style="max-width: 150px;" src="{{ url_for('static', filename='images/Screenshot4.png') }}" alt="Screenshot 4" class="screenshot" data-toggle="modal" data-target="#screenshotModal">
                <div class="overlay">Click to Preview</div>
            </div>
            <!-- <div class="screenshot-wrapper">
                <img style="max-width: 150px;" src="{{ url_for('static', filename='images/Screenshot5.png') }}" alt="Screenshot 5" class="screenshot" data-toggle="modal" data-target="#screenshotModal">
                <div class="overlay">Click to Preview</div>
            </div> -->
        </div>

        <form action="/" method="post" enctype="multipart/form-data" class="mt-4">
            <div class="form-group">
                <label for="file1">First CSV File</label>
                <input type="file" class="form-control-file" id="file1" name="file1" required>
            </div>
            <div class="form-group">
                <label for="file2">Second CSV File</label>
                <input type="file" class="form-control-file" id="file2" name="file2" required>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Merge and Download</button>
        </form>

        <footer class="mt-5 text-center">
            <p>Developed by Ayush</p>
            <button id="theme-toggle" class="btn btn-secondary">Switch to Night Theme</button>
        </footer>
    </div>

    <!-- Documentation Section -->
    <div class="container mt-5">
        <h1>CSV Merger Project Documentation</h1>
        <h2>Overview</h2>
        <p>The CSV Merger is a web application that allows users to upload two CSV files, merge them based on specific columns, and download the result as an Excel file. The application features a user-friendly interface with a day/night theme toggle and image previews.</p>
        
        <h2>Features</h2>
        <ul>
            <li>Upload and merge two CSV files.</li>
            <li>Download the merged result as an Excel file.</li>
            <li>Day/Night theme toggle.</li>
            <li>Image previews with keyboard navigation.</li>
        </ul>

        <h2>Technologies Used</h2>
        <ul>
            <li>HTML, CSS, JavaScript</li>
            <li>Bootstrap for styling</li>
            <li>Font Awesome for icons</li>
            <li>Python (Flask) for backend processing</li>
            <li>Netlify for deployment</li>
        </ul>

        <h2>Setup and Installation</h2>
        <h3>Prerequisites</h3>
        <ul>
            <li>Python 3.x</li>
            <li>Git</li>
            <li>A GitHub account</li>
        </ul>

        <h3>Installation Steps</h3>
        <ol>
            <li>Clone the Repository
                <pre><code>git clone https://github.com/yourusername/csv-merger.git
cd csv-merger</code></pre>
            </li>
            <li>Set Up a Virtual Environment
                <pre><code>python -m venv venv
source venv/bin/activate  # On Windows use `venv\Scripts\activate`</code></pre>
            </li>
            <li>Install Dependencies
                <pre><code>pip install -r requirements.txt</code></pre>
            </li>
            <li>Run the Application
                <pre><code>flask run</code></pre>
            </li>
            <li>Access the Application
                <p>Open your browser and go to <a href="http://localhost:5000">http://localhost:5000</a>.</p>
            </li>
        </ol>

        <h2>Deployment</h2>
        <h3>Deploying on Netlify</h3>
        <ol>
            <li>Push Your Code to GitHub</li>
            <li>Sign Up for Netlify</li>
            <li>Create a New Site</li>
            <li>Connect to GitHub</li>
            <li>Select Your Repository</li>
            <li>Configure Build Settings</li>
            <li>Deploy</li>
            <li>Access Your Live Site</li>
        </ol>

        <h2>Usage</h2>
        <ol>
            <li>Upload CSV Files</li>
            <li>Merge and Download</li>
            <li>Theme Toggle</li>
            <li>Image Previews</li>
        </ol>

        <h2>Contributing</h2>
        <ol>
            <li>Fork the repository.</li>
            <li>Create a new branch (`git checkout -b feature-branch`).</li>
            <li>Make your changes and commit them (`git commit -m 'Add new feature'`).</li>
            <li>Push to the branch (`git push origin feature-branch`).</li>
            <li>Open a pull request.</li>
        </ol>

        <h2>License</h2>
        <p>This project is licensed under the MIT License.</p>

        <h2>Contact</h2>
        <p>For questions or support, please contact [your-email@example.com].</p>
    </div>

    <!-- Single Modal for Image Previews -->
    <div class="modal fade" id="screenshotModal" tabindex="-1" role="dialog" aria-labelledby="screenshotModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="screenshotModalLabel">Screenshot Preview</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center">
                    <img id="modalImage" src="" alt="Screenshot" class="img-fluid">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="prevButton"><i class="fas fa-arrow-left"></i> Previous</button>
                    <button type="button" class="btn btn-secondary" id="nextButton">Next <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        const toggleButton = document.getElementById('theme-toggle');
        toggleButton.addEventListener('click', () => {
            document.body.classList.toggle('night-mode');
            if (document.body.classList.contains('night-mode')) {
                toggleButton.textContent = 'Switch to Day Theme';
            } else {
                toggleButton.textContent = 'Switch to Night Theme';
            }
        });

        const images = document.querySelectorAll('.screenshot');
        let currentIndex = 0;

        images.forEach((img, index) => {
            img.addEventListener('click', function() {
                currentIndex = index;
                updateModalImage();
            });
        });

        document.getElementById('nextButton').addEventListener('click', function() {
            currentIndex = (currentIndex + 1) % images.length;
            updateModalImage();
        });

        document.getElementById('prevButton').addEventListener('click', function() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateModalImage();
        });

        function updateModalImage() {
            const modalImage = document.getElementById('modalImage');
            modalImage.src = images[currentIndex].src;
        }

        // Add keyboard navigation
        document.addEventListener('keydown', function(event) {
            if ($('#screenshotModal').hasClass('show')) {
                if (event.key === 'ArrowRight') {
                    currentIndex = (currentIndex + 1) % images.length;
                    updateModalImage();
                } else if (event.key === 'ArrowLeft') {
                    currentIndex = (currentIndex - 1 + images.length) % images.length;
                    updateModalImage();
                }
            }
        });
    </script>
</body>
</html>
